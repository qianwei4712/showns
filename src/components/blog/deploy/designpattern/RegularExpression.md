<div class="catalog">

- [本文概述](#t0)
- [正则表达式语法](#t1)
  - [匹配规则](#t11)
- [使用方式以及代码示例](#t2)
- [在线测试网站](#t3)
- [常用表达式列举](#t4)
  - [纯数字、文本](#t41)
  - [特殊需求](#t42)
- [参考文章](#te)

</div>



## <span id="t0">本文概述</span>

以前用到正则，都是百度复制粘贴。这次准备弄点高级的，把复制粘贴的东西先准备好，以后找起来容易点。

![](http://shiva.oss-cn-hangzhou.aliyuncs.com/emo/XIKOEQKFKLOO3UE00.jpg)

基本包括下面几个：

> 正则表达式语法、使用方式以及代码示例、在线测试网站、常用表达式列举



<br/>

## <span id="t1">正则表达式语法</span>

正则表达式(Regular Expression)是一种文本模式，包括普通字符（例如，a 到 z 之间的字母）和特殊字符。

正则表达式使用单个字符串来描述、匹配一系列匹配某个句法规则的字符串。



<br>

### <span id="t11">匹配规则</span>

下表包含了元字符的完整列表以及它们在正则表达式上下文中的行为：

| 字符   | 描述                                                         |
| :----- | :----------------------------------------------------------- |
| \      | 例如，'\n' 匹配一个换行符，'\a' 匹配字符 'a' (字符编码 97)。 |
| ^      | 匹配输入字符串的开始位置。                                   |
| $      | 匹配输入字符串的结束位置。                                   |
| {n}    | n 是一个非负整数。匹配确定的 n 次。例如，'o{2}' 不能匹配 "Bob" 中的 'o'，但是能匹配 "food" 中的两个 o。 |
| {n,}   | n 是一个非负整数。至少匹配n 次。例如，'o{2,}' 不能匹配 "Bob" 中的 'o'，但能匹配 "foooood" 中的所有 o。'o{1,}' 等价于 'o+'。'o{0,}' 则等价于 'o*'。 |
| {n,m}  | m 和 n 均为非负整数，其中n <= m。最少匹配 n 次且最多匹配 m 次。例如，"o{1,3}" 将匹配 "fooooood" 中的前三个 o。'o{0,1}' 等价于 'o?'。请注意在逗号和两个数之间不能有空格。 |
| .      | 匹配除换行符（\n、\r）之外的任何单个字符。要匹配包括 '\n' 在内的任何字符，请使用像"**(.\|\n)**"的模式。 |
| x\|y   | 匹配 x 或 y。例如，'z\|food' 能匹配 "z" 或 "food"。'(z\|f)ood' 则匹配 "zood" 或 "food"。 |
| [ABC]  | <span style="color:red">**匹配  [...] 中的所有字符，大小写敏感**</span>。例如 **[shiva]** 匹配字符串中所有的 s h i v a 字母。 |
| [^ABC] | <span style="color:red">**匹配除了  [...] 中的所有字符，大小写敏感**</span>。例如 **[shiva]** 匹配字符串中除了的 s h i v a 字母。 |
| [A-Z]  | [A-Z] 表示一个区间，匹配所有大写字母，[a-z] 表示所有小写字母。 |
| [^a-z] | 负值字符范围。匹配任何不在指定范围内的任意字符。例如，'\[^a-z]' 可以匹配任何不在 'a' 到 'z' 范围内的任意字符。 |

<br/>

**匹配获取**

| 字符         | 描述                                                         |
| :----------- | :----------------------------------------------------------- |
| (pattern)    | 匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“`\(`”或“`\)`”。 |
| (?:pattern)  | 匹配pattern但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用或字符“`(|)`”来组合一个模式的各个部分是很有用。例如“`industr(?:y|ies)`”就是一个比“`industry|industries`”更简略的表达式。 |
| (?=pattern)  | 正向肯定预查，在任何匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“`Windows(?=95|98|NT|2000)`”能匹配“`Windows2000`”中的“`Windows`”，但不能匹配“`Windows3.1`”中的“`Windows`”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。 |
| (?!pattern)  | 正向否定预查，在任何不匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如“`Windows(?!95|98|NT|2000)`”能匹配“`Windows3.1`”中的“`Windows`”，但不能匹配“`Windows2000`”中的“`Windows`”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始 |
| (?<=pattern) | 反向肯定预查，与正向肯定预查类拟，只是方向相反。例如，“`(?<=95|98|NT|2000)Windows`”能匹配“`2000Windows`”中的“`Windows`”，但不能匹配“`3.1Windows`”中的“`Windows`”。 |
| (?<!pattern) | 反向否定预查，与正向否定预查类拟，只是方向相反。例如“`(?”能匹配“`3.1Windows`”中的“`Windows`”，但不能匹配“`2000Windows`”中的“`Windows`”。 |

<br/>

**匹配特定的字符种类**

| 字符 | 描述                                                         | 字符 | 描述                                                         |
| ---- | ------------------------------------------------------------ | ---- | ------------------------------------------------------------ |
| \d   | 匹配一个数字字符。等价于 [0-9]。                             | \D   | 匹配一个非数字字符。等价于 \[^0-9]。                         |
| \s   | <span style="color:red">**匹配任何空白字符**</span>，包括空格、制表符、换页符等等。等价于 [\f\n\r\t\v]。 | \S   | <span style="color:red">**匹配任何非空白字符**</span>。等价于 \[^\f\n\r\t\v]。 |
| \w   | **匹配字母、数字、下划线** 。等价于 [A-Za-z0-9_]。           | \W   | **匹配非字母、数字、下划线** 。等价于 \[^A-Za-z0-9_]。       |
| \f   | 匹配一个换页符。等价于 \x0c 和 \cL。                         | \n   | 匹配一个换行符。等价于 \x0a 和 \cJ。                         |
| \r   | 匹配一个回车符。等价于 \x0d 和 \cM。                         |      |                                                              |
| \b   | 匹配一个单词边界，也就是指单词和空格间的位置。例如， 'er\b' 可以匹配"never" 中的 'er'，但不能匹配 "verb" 中的 'er'。 | \B   | 匹配非单词边界。'er\B' 能匹配 "verb" 中的 'er'，但不能匹配 "never" 中的 'er'。 |

<br/>

**重复匹配**

| 字符 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| *    | 匹配前面的子表达式零次或多次。例如，zo* 能匹配 "z" 以及 "zoo"。* 等价于{0,}。 |
| +    | 匹配前面的子表达式一次或多次。例如，'zo+' 能匹配 "zo" 以及 "zoo"，但不能匹配 "z"。+ 等价于 {1,}。 |
| ?    | 匹配前面的子表达式零次或一次。例如，"do(es)?" 可以匹配 "do" 或 "does" 。? 等价于 {0,1}。 |

 

<br/>

## <span id="t2">使用方式以及代码示例</span>

**JS**

```javascript
var pattern = /[a-z]/,
	str = '';
console.log(pattern.test(str));
```

<br/>

**Java**

```java
public static void main(String args[]) {
    String str = "";
    String pattern = "[a-z]";

    Pattern r = Pattern.compile(pattern);
    Matcher m = r.matcher(str);
    System.out.println(m.matches());
}
```

**Matcher类的常用方法** :

- `matches()` : 返回整个目标字符串与Pattern是否匹配
- `find()` : 返回与Pattern匹配的下一个子串
- `group()` : 返回上一次与Pattern匹配的子串中的内容。group是针对()来说的，group(0)就是指的整个串，group(1) 指的是第一个括号里的东西，group(2)指的第二个括号里的东西
- `start()` : 返回上一次与Pattern匹配的子串在目标字符串中的开始位置。
- `end()` : 返回上一次与Pattern匹配的子串在目标字符串中的结束位置加1。



<br/>

## <span id="t3">在线测试网站</span>

<a href="https://regexr-cn.com/" target="_blank">RegExr: 学习、构建 和 测试 正则表达式</a>

<a href="http://c.runoob.com/front-end/854" target="_blank">正则表达式在线测试 | 菜鸟工具</a>

<a href="https://www.bejson.com/othertools/regex_create/" target="_blank">正则表达式代码生成工具</a>

<a href="https://codejiaonang.com/#/" target="_blank">编程胶囊-打造学习编程的最好系统-正则题目练习</a>

<a href="https://jex.im/regulex/#!flags=&re=^(a|b)*%3F%24" target="_blank">Regulex：JavaScript 正则表达式图形化表示</a>


<br/>

## <span id="t4">常用表达式列举</span>

### <span id="t41">纯数字、文本</span>

| 需求                       | 表达式                       | 需求       | 表达式                |
| -------------------------- | ---------------------------- | ---------- | --------------------- |
| 数字                       | ^[0-9]*$                     | n位的数字  | ^\d{n}$               |
| 非负浮点数                 | ^\d+(\.\d+)?$                | 汉字       | ^[\u4e00-\u9fa5]{0,}$ |
| 英文和数字                 | ^[A-Za-z0-9]+$               | 英文字符串 | ^[A-Za-z]+$           |
| 中文、英文、数字包括下划线 | ^[\u4E00-\u9FA5A-Za-z0-9_]+$ |            |                       |

<br/>

### <span id="t42">特殊需求</span>

- Email地址：`^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$`

- 手机号码：`^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$`

- 身份证号(15位、18位数字)，最后一位是校验位，可能为数字或字符X：`(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)`

- 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：`^[a-zA-Z][a-zA-Z0-9_]{4,15}$`

- 强密码(必须包含大小写字母和数字的组合，可以使用特殊字符，长度在8-10之间)：`^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$`

- 腾讯QQ号：`[1-9][0-9]{4,}`

- IPv4地址：`((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}`





<br/>

## <span id="te">参考文章</span>


<a href="https://www.pdai.tech/md/develop/regex/dev-regex-all.html" target="_blank">正则表达式 - 知识点学习 | Java 全栈知识体系 (pdai.tech)</a>

<a href="https://www.runoob.com/regexp/regexp-tutorial.html" target="_blank">正则表达式 – 教程 | 菜鸟教程 (runoob.com)</a>

<a href="https://tool.oschina.net/uploads/apidocs/jquery/regexp.html" target="_blank">正则表达式手册 (oschina.net)</a>

<a href="https://www.bilibili.com/video/BV19t4y1y7qP?from=search&seid=14456686619580943767" target="_blank">正则表达式30分钟入门40分钟进阶（绝对能学会）_哔哩哔哩_bilibili</a>
